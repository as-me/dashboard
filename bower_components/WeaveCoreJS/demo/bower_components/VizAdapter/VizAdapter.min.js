this.adapter||(this.adapter={}),function(){function a(){}var b=a.prototype;b.doSelection=function(){},b.doProbe=function(){},b.setData=function(){},b.getData=function(){},adapter.Interface=a}(),this.hook||(this.hook={}),function(){function a(a){adapter.Interface.call(this),this.chart=a}a.prototype=new adapter.Interface,a.prototype.constructor=a;var b=a.prototype;b.doSelection=function(a){if(void 0!==a?a.constructor!==Array&&console.log("Keys has to be an array "):console.log("keys(Array)  is required"),a.length>0){var b=a.map(function(a){return a.constructor===String?a=Number(a):a});this.chart.select(this.chart.columns,b,!0)}else this.chart.unselect()},hook.C3Interface=a}(),this.hook||(this.hook={}),function(){function a(a){adapter.Interface.call(this),this.chart=a,this.dataSource}a.prototype=new adapter.Interface,a.prototype.constructor=a;var b=a.prototype;b.doSelection=function(a){this.chart.select(a)},b.doProbe=function(a){this.chart.probe(a)},b.setData=function(a,b){this.dataSource=a,this.chart.renderChart(b)},hook.D3Interface=a}(),this.hook||(this.hook={}),function(){function a(a){adapter.Interface.call(this),this.chart=a,this.recordIdentifier,this.markObjects={}}a.prototype=new adapter.Interface,a.prototype.constructor=a;var b=a.prototype;b.doSelection=function(a){if(console.log("keys from Peer: ",a),a.length>0){for(var b=[],c=0;c<a.length;c++){var d=this.markObjects[a[c]];b.push(d)}this.chart.getWorkbook().getActiveSheet().selectMarksAsync(b,tableauSoftware.SelectionUpdateType.REPLACE)}else this.chart.getWorkbook().getActiveSheet().clearSelectedMarksAsync()},hook.TableauInterface=a}(),this.peer||(this.peer={}),function(){function a(){adapter.Interface.call(this),this.hooks=[],this.activeHook=null,this.setWeaveWindow(window),this.keyType,this.path}function b(a,d,e,f,g,h){null!=e&&(d=e(a,d));var i,a;if("string"==typeof d)return c(d);if(null==d||"object"!=typeof d)return!h||void 0!==d&&isFinite(d)||(d=null),null==d?"null":d+"";var j=f+g,k=Array.isArray(d);if(i=[],k)for(var l=0;l<d.length;l++)i.push(b(String(l),d[l],e,j,g,h));else{for(a in d)i.push(c(a)+": "+b(a,d[a],e,j,g,h));i.sort()}return 0==i.length?k?"[]":"{}":(k?"[":"{")+j+i.join(g?","+j:", ")+f+(k?"]":"}")}function c(a,b){if(b||(b='"'),null==a)return"null";for(var c=new Array(a.length),d=0;d<a.length;d++){var e=a.charAt(d),f=e==b?b:g[e];c[d]=f?"\\"+f:e}return b+c.join("")+b}function d(){console.log("renderSelection");var a=this.path.selection_keyset.getState();if(null===a)return void e.apply(this,[[]]);var b,c;console.log("Keys from Peer : ",a),b=null!==a&&a[0]?a[0]:a,c=b.shift(),c&&this.keyType!==c||e.apply(this,[b]),console.log("activehook removed")}function e(a){this.hooks.forEach(function(b){b.chart!=this.activeHook&&b.doSelection(a)}.bind(this)),this.activeHook=null}function f(){var a,b=this.path.probe_keyset.getState();a=b[0]?b[0]:b;var c=a.shift();this.keyType===c&&this.hooks.forEach(function(b){b.chart!=this.activeHook&&b.doProbe(a)}),this.activeHook=null}a.prototype=new adapter.Interface,a.prototype.constructor=a,a.weaveStringify=function(a,c,d,e){if("number"==typeof d){for(var f=" ";f.length<d;)f+=f;d=f.substr(0,d)}return d||(d=""),b("",a,c,d?"\n":"",d,e)};var g={"\b":"b","\f":"f","\n":"n","\r":"r","	":"t","\\":"\\"},h=a.prototype;h.checkWeaveReady=function(){return this.weave&&this.weave.WeavePath&&this.weave._jsonCall},h.setWeaveWindow=function(a){return a?(this.weaveWindow=a,this.weave=a.document.getElementById("weave"),void(this.checkWeaveReady()?(console.log("weave and its api are ready"),this.path=weave.path(),this.path.selection_keyset.addCallback(d.bind(this)),this.path.probe_keyset.addCallback(f.bind(this))):setTimeout(this.setWeaveWindow.bind(this),50,a))):void(this.weave=null)},h.doSelection=function(a,b){if(this.weave.path(this.keyType).getState()||console.log("This "+this.keyType+" is not hooked"),console.log("Keys from Hook : ",a),a.length>0){var c=a.map(function(a){return{localName:a,keyType:this.keyType}}.bind(this)),d="this.replaceKeys(keys)";b&&(d="this.addKeys(keys)"),this.weave.evaluateExpression(this.path.selection_keyset._path,d,{keys:c},null,"")}else this.weave.evaluateExpression(this.path.selection_keyset._path,"this.replaceKeys(keys)",{keys:[]},null,"")},h.doProbe=function(a){if(a){var b={localName:a,keyType:this.keyType};this.weave.evaluateExpression(this.path.probe_keyset._path,"this.replaceKeys(keys)",{keys:[b]},null,"")}else this.weave.evaluateExpression(this.path.probe_keyset._path,"this.replaceKeys(keys)",{keys:[]},null,"")},h.setData=function(a,b){this.weave.path(a).request("CSVDataSource").vars({records:b}).exec("var rows = WeaveAPI.CSVParser.convertRecordsToRows(records); this.setCSVData(rows);")},h.setKeyColumnName=function(a,b){this.keyType=a,this.weave.setSessionState([a],{keyColName:b,keyType:a})},h.getData=function(a){return this.weave.path(a).request("CSVDataSource").getValue("WeaveAPI.CSVParser.convertRowsToRecords(getCSVData())")},h.getCSVData=function(a){return this.weave.path(a).request("CSVDataSource").getValue("getCSVData()")},peer.WeaveFlashInterface=a}(),this.peer||(this.peer={}),function(){function a(){adapter.Interface.call(this),this.hooks=[],this.activeHook=null,a.selectionKeys.addImmediateCallback({},b.bind(this)),a.probeKeys.addImmediateCallback({},c.bind(this))}function b(){var b=a.selectionKeys.getSessionState();this.hooks.forEach(function(a){a!=this.activehook?a.doSelection(b):this.activehook=null})}function c(){var b=a.probeKeys.getSessionState();this.hooks.forEach(function(a){a!=this.activehook?a.doProbe(b):this.activehook=null})}Object.defineProperty(a,"probeKeys",{value:WeaveAPI.globalHashMap.requestObject("probeKeys",weavecore.LinkableVariable,!1)}),Object.defineProperty(a,"selectionKeys",{value:WeaveAPI.globalHashMap.requestObject("selectionKeys",weavecore.LinkableVariable,!1)}),a.prototype=new adapter.Interface,a.prototype.constructor=a;var d=a.prototype;d.doSelection=function(b){a.selectionKeys.setSessionState(b)},d.doProbe=function(b){a.probeKeys.setSessionState(b)},peer.WeaveJSInterface=a}();
